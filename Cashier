public class Cashier extends Thread {
    private String id;
    private int totalProfit = 0; // Updated to track total profit

    public Cashier(String id) {
        this.id = id;
    }

    @Override
    public void run() {
        while (!Clerk.isDayOver()) { // Use Clerk's isDayOver() method
            if (!Clerk.getBuyingBuffer().isEmpty() && !Clerk.getRepairingBuffer().isEmpty()) {
                Customer customer = Clerk.getBuyingBuffer().remove();
                SummaryDetails summary = Clerk.getRepairingBuffer().remove().getSummaryDetails(); // Assuming Customer has a getSummaryDetails() method

                // Update total profit based on customer's cost
                totalProfit += customer.getCost();

                // Print and log the summary
                System.out.println("Cashier " + id + " is processing summary document:\n" + summary);
                writeToSummaryFile(summary);

                // Increment the number of customers handled
                Clerk.addHandledCustomer();
            }
        }

        // When the day is over, print the summary
        printEndOfDaySummary();
    }

    private void writeToSummaryFile(SummaryDetails summary) {
        // Implement code to write summary details to a file here
        // Example: you can use FileWriter to append to a file
 if (summaryFile != null) {
            summaryFile.println(summary); // Write the summary to the file
            summaryFile.flush(); // Flush the buffer to ensure data is written immediately
        }
    }

    private void printEndOfDaySummary() {
System.out.println("End of Day Summary:");
        System.out.println("Total Customers Handled: " + Clerk.getHandledCustomers());
        System.out.println("Total Profit: " + totalProfit + " NIS");
 if (summaryFile != null) {
            summaryFile.println("\nEnd of Day Summary:");
            summaryFile.println("Total Customers Handled: " + Clerk.getHandledCustomers());
            summaryFile.println("Total Profit: " + totalProfit + " NIS");
            // Write outstanding employee information to the file
            summaryFile.flush(); // Flush the buffer to ensure data is written immediately
            summaryFile.close(); // Close the file when done
        // Implement code to print the end-of-day summary here
        // Include total customers handled, total profit, and outstanding employees
    }
}
